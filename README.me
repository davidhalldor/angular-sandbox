Based on code from the book Pro AngularJS (http://www.apress.com/9781430264484) by Adam Freeman